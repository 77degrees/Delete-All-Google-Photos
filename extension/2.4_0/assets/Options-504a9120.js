import{S as D,i as N,s as T,e as _,a as O,t as w,b as p,c as P,d as a,f as E,n as h,g as k,o as M,h as S,l as C,p as A,r as U}from"./index-6cab9911.js";import{E as F}from"./ExtPay.module-d5c3e8e1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();function G(c){return{c:h,m:h,p:h,d:h}}function H(c){let t,l,s,e,o,u,f,r,g,n=c[1]&&x();return{c(){t=_("p"),l=_("a"),l.textContent="Upgrade",s=w(" or "),e=_("a"),e.textContent="log in",o=w(" to delete more than 500 per day."),u=O(),n&&n.c(),f=S(),p(l,"href","#null"),p(e,"href","#null"),p(t,"class","svelte-15z7eqe")},m(i,y){P(i,t,y),a(t,l),a(t,s),a(t,e),a(t,o),P(i,u,y),n&&n.m(i,y),P(i,f,y),r||(g=[C(l,"click",c[2]),C(e,"click",A(c[3]))],r=!0)},p(i,y){i[1]?n||(n=x(),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(i){i&&(k(t),k(u),k(f)),n&&n.d(i),r=!1,U(g)}}}function x(c){let t;return{c(){t=_("p"),t.textContent="There was an error loading your paid status. Please check your internet connection and re-open this popup.",p(t,"class","svelte-15z7eqe")},m(l,s){P(l,t,s)},d(l){l&&k(t)}}}function I(c){var z;let t,l,s,e,o,u,f=((z=c[0])!=null&&z.paid?"all":500)+"",r,g,n,i,y;function L(m,b){var v;return(v=m[0])!=null&&v.paid?G:H}let q=L(c),d=q(c);return{c(){t=_("main"),l=_("header"),l.innerHTML='<h1 class="svelte-15z7eqe">Delete All Google Photos</h1>',s=O(),e=_("section"),o=_("a"),u=w("Delete "),r=w(f),g=w(" photos"),n=O(),i=_("p"),i.textContent="When you click the button above, a new tab will open asking you to confirm deletion.",y=O(),d.c(),p(l,"class","svelte-15z7eqe"),p(o,"href","https://photos.google.com/login?delete_all"),p(o,"target","_blank"),p(o,"rel","noreferrer"),p(o,"class","button svelte-15z7eqe"),p(i,"class","svelte-15z7eqe"),p(t,"class","svelte-15z7eqe")},m(m,b){P(m,t,b),a(t,l),a(t,s),a(t,e),a(e,o),a(o,u),a(o,r),a(o,g),a(e,n),a(e,i),a(e,y),d.m(e,null)},p(m,[b]){var v;b&1&&f!==(f=((v=m[0])!=null&&v.paid?"all":500)+"")&&E(r,f),q===(q=L(m))&&d?d.p(m,b):(d.d(1),d=q(m),d&&(d.c(),d.m(e,null)))},i:h,o:h,d(m){m&&k(t),d.d()}}}function K(c,t,l){const s=F("delete-all-google-photos");let e=null,o;M(async()=>{try{l(0,e=await s.getUser())}catch{l(1,o=!0)}}),s.onPaid.addListener(r=>{l(0,e=r)});async function u(r){r.preventDefault(),await s.openPaymentPage(),setTimeout(function(){window.close()},3e3)}async function f(r){r.preventDefault(),await s.openLoginPage(),setTimeout(function(){window.close()},3e3)}return[e,o,u,f]}class B extends D{constructor(t){super(),N(this,t,K,I,T,{})}}export{B as O};
